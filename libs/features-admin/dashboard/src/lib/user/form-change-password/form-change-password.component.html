<div class="max-w-md mx-auto p-6">
  <!-- Tiêu đề -->
  <div class="text-center mb-8">
    <h3 class="text-2xl font-bold text-gray-800">
      Đổi mật khẩu
    </h3>
    <p class="text-lg text-blue-600 font-medium mt-2">
      {{ username }}
    </p>
  </div>

  <!-- Form -->
  <nz-spin [nzSpinning]="isLoading">
    <form [formGroup]="form" (ngSubmit)="submit()" nz-form nzLayout="vertical" class="space-y-6">

      <!-- Mật khẩu mới -->
      <nz-form-item>
        <nz-form-label nzRequired class="text-base font-medium">
          Mật khẩu mới
        </nz-form-label>
        <nz-form-control nzErrorTip="Mật khẩu phải có ít nhất 6 ký tự">
          <div class="relative">
            <input
              [type]="hideNew ? 'password' : 'text'"
              nz-input
              formControlName="newPassword"
              placeholder="Nhập mật khẩu mới"
              class="pr-12 h-12 text-lg rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500" />

            <button
              type="button"
              class="absolute right-3 top-1/2 -translate-y-1/2 text-xl text-gray-500 hover:text-blue-600 transition"
              (click)="hideNew = !hideNew">
              <i class="fas" [ngClass]="hideNew ? 'fa-eye-slash' : 'fa-eye'"></i>
            </button>
          </div>
        </nz-form-control>
      </nz-form-item>

      <!-- Xác nhận mật khẩu -->
      <nz-form-item>
        <nz-form-label nzRequired class="text-base font-medium">
          Xác nhận mật khẩu
        </nz-form-label>
        <nz-form-control [nzErrorTip]="form.errors?.['mismatch'] ? 'Mật khẩu không khớp!' : 'Vui lòng nhập lại mật khẩu'">
          <div class="relative">
            <input
              [type]="hideConfirm ? 'password' : 'text'"
              nz-input
              formControlName="confirmPassword"
              placeholder="Nhập lại mật khẩu"
              class="pr-12 h-12 text-lg rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500" />

            <button
              type="button"
              class="absolute right-3 top-1/2 -translate-y-1/2 text-xl text-gray-500 hover:text-blue-600 transition"
              (click)="hideConfirm = !hideConfirm">
              <i class="fas" [ngClass]="hideConfirm ? 'fa-eye-slash' : 'fa-eye'"></i>
            </button>
          </div>
        </nz-form-control>
      </nz-form-item>

      <!-- Nút bấm -->
      <div class="flex justify-end gap-4 pt-4">
        <button
          nz-button
          nzType="default"
          nzSize="large"
          (click)="cancel()"
          [disabled]="isLoading"
          class="px-8">
          Hủy
        </button>
        <button
          nz-button
          nzType="primary"
          nzSize="large"
          type="submit"
          [nzLoading]="isLoading"
          [disabled]="form.invalid"
          class="px-10 font-medium">
          Đổi mật khẩu
        </button>
      </div>

    </form>
  </nz-spin>
</div>
